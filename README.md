–ë–æ—Ç –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è —É—Å–ª—É–≥ (—Ç–∞–∫—Å–∏, —Ä–µ—Ç—Ä–æ-–∞–≤—Ç–æ, –≥–∏–¥, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ). –í–µ–¥—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—à–∞–≥–æ–≤–æ —á–µ—Ä–µ–∑ inline-–∫–Ω–æ–ø–∫–∏: –≤—ã–±–æ—Ä —É—Å–ª—É–≥–∏ ‚Üí —Ç–æ—á–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è ‚Üí –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞.

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

üë§ –ö–æ–º–∞–Ω–¥—ã /start, /order.

üß≠ –ú–∞—Ä—à—Ä—É—Ç: –æ—Ç–∫—É–¥–∞ / –∫—É–¥–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:

üè® –û—Ç–µ–ª–∏ (—Å–ø–∏—Å–æ–∫ —Å —ç–º–æ–¥–∑–∏),

üçΩ –†–µ—Å—Ç–æ—Ä–∞–Ω—ã (—Å–ø–∏—Å–æ–∫ —Å —ç–º–æ–¥–∑–∏),

‚úàÔ∏è –ê—ç—Ä–æ–ø–æ—Ä—Ç—ã (—Å–ø–∏—Å–æ–∫).

üìÖ –í—ã–±–æ—Ä –¥–∞—Ç—ã ‚Üí ‚è∞ –≤—ã–±–æ—Ä —á–∞—Å–∞ ‚Üí –º–∏–Ω—É—Ç ‚Üí –∏—Ç–æ–≥–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–∫–∞–∑–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ ‚úÖ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å / ‚ùå –æ—Ç–º–µ–Ω–∏—Ç—å.

üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (gettext): ru / en / es (–∞–≤—Ç–æ–≤—ã–±–æ—Ä –ø–æ from_user.language_code, –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±–æ—Ä –≤ FSM).

üîí –¢–æ–∫–µ–Ω –±–µ—Ä—ë—Ç—Å—è –∏–∑ .env.

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

Python 3.11

aiogram v3 (Router, FSM)

gettext –¥–ª—è i18n (.po ‚Üí .mo)

python-dotenv –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
UslugiCuba/
‚îú‚îÄ bots/
‚îÇ  ‚îî‚îÄ client_bot.py          # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞, Dispatcher, middleware, —Ä–æ—É—Ç–µ—Ä—ã
‚îú‚îÄ handlers/
‚îÇ  ‚îî‚îÄ client/
‚îÇ     ‚îî‚îÄ service_selection.py # —Å—Ü–µ–Ω–∞—Ä–∏–π –≤—ã–±–æ—Ä–∞ —É—Å–ª—É–≥–∏/–ª–æ–∫–∞—Ü–∏–π/–¥–∞—Ç—ã-–≤—Ä–µ–º–µ–Ω–∏/–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
‚îú‚îÄ keyboards/
‚îÇ  ‚îú‚îÄ client.py               # inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã: —É—Å–ª—É–≥–∏, –¥–∞—Ç–∞/—á–∞—Å/–º–∏–Ω—É—Ç–∞
‚îÇ  ‚îî‚îÄ locations.py            # –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã: –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å–ø–∏—Å–∫–∏ –æ—Ç–µ–ª–µ–π/—Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤/–∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤
‚îú‚îÄ locales/
‚îÇ  ‚îú‚îÄ en/LC_MESSAGES/bot.po
‚îÇ  ‚îú‚îÄ es/LC_MESSAGES/bot.po
‚îÇ  ‚îî‚îÄ ru/LC_MESSAGES/bot.po
‚îú‚îÄ middlewares/
‚îÇ  ‚îî‚îÄ i18n.py                 # I18nMiddleware –Ω–∞ gettext
‚îú‚îÄ states/
‚îÇ  ‚îî‚îÄ client_states.py        # FSM: OrderServiceState
‚îú‚îÄ compile_translations.py    # –∫–æ–º–ø–∏–ª—è—Ü–∏—è .po ‚Üí .mo
‚îú‚îÄ config.py                  # –∑–∞–≥—Ä—É–∑–∫–∞ .env (CLIENT_BOT_TOKEN)
‚îú‚îÄ main.py                    # entry point (run_client_bot)
‚îî‚îÄ requirements.txt

–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
# 1) –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 2) –∫–æ–Ω—Ñ–∏–≥
# —Å–æ–∑–¥–∞–π—Ç–µ .env –∏ –ø–æ–ª–æ–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω:
# CLIENT_BOT_TOKEN=123456:ABC-DEF...

# 3) –∫–æ–º–ø–∏–ª—è—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (—Ä–∞–∑–æ–≤–æ; –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ .po ‚Äî –ø–æ–≤—Ç–æ—Ä–∏—Ç—å)
python compile_translations.py

# 4) –∑–∞–ø—É—Å–∫
python main.py

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
CLIENT_BOT_TOKEN=—Ç—É—Ç_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞


.env —É–∂–µ –≤ .gitignore ‚Äî –Ω–µ –∫–æ–º–º–∏—Ç—å.

–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –¥–∏–∞–ª–æ–≥–∞

/start ‚Üí —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –∏ –º–µ–Ω—é —É—Å–ª—É–≥.

–í—ã–±–æ—Ä —É—Å–ª—É–≥–∏ (taxi | retro | guide | photographer).

–í—ã–±–æ—Ä –æ—Ç–∫—É–¥–∞: –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–æ—Ç–µ–ª—å/—Ä–µ—Å—Ç–æ—Ä–∞–Ω/–∞—ç—Ä–æ–ø–æ—Ä—Ç) ‚Üí –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –º–µ—Å—Ç–æ –∏–∑ —Å–ø–∏—Å–∫–∞.

–í—ã–±–æ—Ä –∫—É–¥–∞: –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.

–í—ã–±–æ—Ä –¥–∞—Ç—ã ‚Üí —á–∞—Å–∞ ‚Üí –º–∏–Ω—É—Ç.

–ò—Ç–æ–≥–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–∫–∞–∑–∞ + –∫–Ω–æ–ø–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è/–æ—Ç–º–µ–Ω—ã.

–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–æ–±—â–∞—è —Å—Ö–µ–º–∞)

service_inline_keyboard(_)

pickup_category_keyboard() / dropoff_category_keyboard()

hotel_list_keyboard(prefix) / restaurant_list_keyboard(prefix) / airport_list_keyboard(prefix)

date_selection_keyboard(_) / hour_selection_keyboard() / minute_selection_keyboard()

Callback-–¥–∞–Ω–Ω—ã–µ –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å—ã:

service_*, pickup_* / dropoff_*, date_YYYY-MM-DD, hour_HH, minute_MM

I18n

–ú–∏–¥–ª–≤–∞—Ä—å –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≤ —Ö—ç–Ω–¥–ª–µ—Ä—ã –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ _ = gettext.gettext –ø–æ —è–∑—ã–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–Ø–∑—ã–∫ –º–æ–∂–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å/—á–∏—Ç–∞—Ç—å –∏–∑ FSM state (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å).

–¢–µ–∫—Å—Ç—ã –∂–∏–≤—É—Ç –≤ locales/*/LC_MESSAGES/bot.po. –ü–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫ ‚Äî –∑–∞–Ω–æ–≤–æ python compile_translations.py.

–ò–∑–≤–µ—Å—Ç–Ω—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –∏ –∫–∞–∫ —Ä–µ—à–µ–Ω–æ

Python 3.11 –∏ f-—Å—Ç—Ä–æ–∫–∏: –Ω–µ–ª—å–∑—è –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã —Å —Ç–µ–º–∏ –∂–µ –∫–∞–≤—ã—á–∫–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ f"...".
‚úÖ –†–µ—à–µ–Ω–∏–µ: –≤—ã–Ω–æ—Å–∏—Ç—å _("key") –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤ locations.py: –±—ã–ª –Ω–µ–≤–µ—Ä–Ω—ã–π –æ—Ç—Å—Ç—É–ø –≤ hotel_list_keyboard –∏ –±–∏—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –¥–∞–≤–∞–ª–æ IndentationError/SyntaxError.
‚úÖ –ü–æ—á–∏–Ω–µ–Ω–æ: —Ä–æ–≤–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–º–ø–æ—Ä—Ç–æ–≤: –ø—É—Ç–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –ø–∞–ø–∫–∞–º (bots/, handlers/, keyboards/, states/, middlewares/).
‚úÖ –ü—Ä–∏–≤–µ–¥–µ–Ω–æ –∫ —Ä–∞–±–æ—á–µ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É.

–ö–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ .mo –∏ __pycache__ –≤ git:
‚úÖ –ò—Å–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ .gitignore.

–ü—É—à –Ω–∞ GitHub: –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–∑-–∑–∞Â∑≤Êúâ –∫–æ–º–º–∏—Ç–∞ (README), —Ä–µ—à–µ–Ω–æ git pull --rebase ‚Üí git push.

–ß—Ç–æ –µ—â—ë –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç (roadmap)

üîô –ö–Ω–æ–ø–∫–∏ ¬´–ù–∞–∑–∞–¥¬ª –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ.

üßæ –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (—Ç–∞—Ä–∏—Ñ—ã/–∫–∏–ª–æ–º–µ—Ç—Ä–∞–∂), –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –≤ –ø—Ä–æ—à–ª–æ–º).

üíæ –•—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞–∫–∞–∑–æ–≤ (–ë–î) + –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.

üí≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã.

üåç –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ –≤ –±–æ—Ç–µ + –≤—ã—á–∏—Ç–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤.

üß™ –¢–µ—Å—Ç—ã (—é–Ω–∏—Ç/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ), CI (lint + pytests).

üìà –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–ª–µ—Ä—Ç—ã.

üßπ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Ö—ç–Ω–¥–ª–µ—Ä–æ–≤ (–æ–±–æ–±—â–∏—Ç—å ¬´pickup/dropoff¬ª –¥–ª—è –æ—Ç–µ–ª–µ–π/—Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞/–∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤).

Troubleshooting

SyntaxError: f-string: unterminated / ¬´nested string literals¬ª ‚Üí –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–µ—Ç f"‚Ä¶ {_("key")} ‚Ä¶", –≤—ã–Ω–µ—Å–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

ModuleNotFoundError ‚Üí –ø—Ä–æ–≤–µ—Ä—å –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏, —á—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—à—å –∏–∑ –∫–æ—Ä–Ω—è.

¬´Unauthorized¬ª ‚Üí –ø—Ä–æ–≤–µ—Ä—å CLIENT_BOT_TOKEN.

–ü–µ—Ä–µ–≤–æ–¥—ã –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è ‚Üí –∑–∞–Ω–æ–≤–æ python compile_translations.py, –ø—Ä–æ–≤–µ—Ä—å locales –∏ I18nMiddleware.

–ü—É—à –æ—Ç–∫–ª–æ–Ω—ë–Ω ‚Üí —Å–¥–µ–ª–∞–π git pull --rebase origin main, —Ä–µ—à–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, –∑–∞—Ç–µ–º git push.

–õ–∏—Ü–µ–Ω–∑–∏—è

MIT (–Ω–∞—Å—Ç—Ä–æ–π –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).

–ö–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å README –≤ —Ä–µ–ø–æ
# (–∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞)
git add README.md
git commit -m "docs: add README with setup, flow, troubleshooting and roadmap"
git push